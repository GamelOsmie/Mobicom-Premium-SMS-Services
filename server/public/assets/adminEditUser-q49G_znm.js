import{j as e,L as I,N as M,m as G,e as H,f as J,u as K,a as Q,C as t}from"./index-7L5beNkU.js";import{u as T,a as W}from"./useUser-caPx1gcO.js";function X(){var o,c,u,d,x,p,h,j,f,N,g,b,_,v,y,F,A,L,Y,q,w,z,Z,O,C,S,V,$,E;const{slug:m}=H(),B=J(),{user:l}=K(r=>r.user),{data:a}=T({slug:m}),{register:n,handleSubmit:P,formState:{errors:s}}=Q(),{mutate:k,isLoading:i}=W({slug:m,options:{onSuccess:r=>{const{status:R}=r;R=="success"&&B(-1)}}}),D=r=>{k(r)};return e.jsx(e.Fragment,{children:(a==null?void 0:a.data)&&e.jsxs("div",{className:"mx-auto md:w-4/6 lg:w-1/5",children:[e.jsxs("h3",{className:"font-semibold text-2xl text-center mb-8 ",children:["Update ",(o=a==null?void 0:a.data)==null?void 0:o.first_name,"'s Details"]}),e.jsxs("form",{onSubmit:P(D),children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"first_name",className:"input-label",children:"First name"}),e.jsx("input",{type:"text",id:"first_name",className:"input w-full",placeholder:"first name",defaultValue:(c=a==null?void 0:a.data)==null?void 0:c.first_name,...n("first_name",{required:!0,minLength:2,pattern:/^[a-zA-Z]+$/i})}),e.jsxs(e.Fragment,{children:[((u=s.first_name)==null?void 0:u.type)==="required"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," ",e.jsx("span",{className:"font-medium",children:"Oops!"})," You forgot to add a first name!"]}),((d=s.first_name)==null?void 0:d.type)==="minLength"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," ",e.jsx("span",{className:"font-medium",children:"Oops!"})," Your name can't be less than 2 characters"]}),((x=s.first_name)==null?void 0:x.type)==="pattern"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," Your name shouldn't contain numbers or spaces!"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{htmlFor:"middle_name",className:"input-label",children:["Middle name"," ",e.jsx("span",{className:"text-xs font-light",children:"(optional)"})]}),e.jsx("input",{type:"text",id:"middle_name",className:"input w-full",placeholder:"middle name",defaultValue:(p=a==null?void 0:a.data)==null?void 0:p.middle_name,...n("middle_name",{minLength:2,pattern:/^[a-zA-Z]+$/i})}),e.jsxs(e.Fragment,{children:[((h=s.middle_name)==null?void 0:h.type)==="minLength"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," ",e.jsx("span",{className:"font-medium",children:"Oops!"})," Your name can't be less than 2 characters"]}),((j=s.middle_name)==null?void 0:j.type)==="pattern"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," Your name shouldn't contain numbers or spaces!"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"last_name",className:"input-label",children:"Last name"}),e.jsx("input",{type:"text",id:"last_name",className:"input w-full",placeholder:"last name",defaultValue:(f=a==null?void 0:a.data)==null?void 0:f.last_name,...n("last_name",{required:!0,minLength:2,pattern:/^[a-zA-Z]+$/i})}),e.jsxs(e.Fragment,{children:[((N=s.last_name)==null?void 0:N.type)==="required"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," ",e.jsx("span",{className:"font-medium",children:"Oops!"})," You forgot to add a last name!"]}),((g=s.last_name)==null?void 0:g.type)==="minLength"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," ",e.jsx("span",{className:"font-medium",children:"Oops!"})," Your name can't be less than 2 characters"]}),((b=s.last_name)==null?void 0:b.type)==="pattern"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," Your name shouldn't contain numbers or spaces!"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"username",className:"input-label",children:"Username"}),e.jsx("input",{type:"text",id:"username",className:"input w-full",placeholder:"username",defaultValue:(_=a==null?void 0:a.data)==null?void 0:_.username,...n("username",{required:!0,minLength:4,pattern:/^[a-zA-Z]+$/i})}),e.jsxs(e.Fragment,{children:[((v=s.username)==null?void 0:v.type)==="required"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," ",e.jsx("span",{className:"font-medium",children:"Oops!"})," You forgot to add a username!"]}),((y=s.username)==null?void 0:y.type)==="minLength"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," ",e.jsx("span",{className:"font-medium",children:"Oops!"})," Your name can't be less than 4 characters"]}),((F=s.username)==null?void 0:F.type)==="pattern"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," Your username shouldn't contain numbers or spaces!"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),e.jsx("input",{type:"email",id:"email",className:"input w-full",placeholder:"email",defaultValue:(A=a==null?void 0:a.data)==null?void 0:A.email,...n("email",{required:!0,minLength:4,pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/})}),e.jsx(e.Fragment,{children:s.email&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," Enter a valid email address"]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"phone_number",className:"input-label",children:"Phone number"}),e.jsx("input",{type:"text",id:"phone_number",className:"input w-full",placeholder:"phone number",defaultValue:(L=a==null?void 0:a.data)==null?void 0:L.phone_number,...n("phone_number",{required:!0,minLength:9,maxLength:12,pattern:/^[0-9]{9,12}$/g})}),e.jsx(e.Fragment,{children:s.phone_number&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," Enter a valid phone number"]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"user_role",className:"input-label",children:"User role"}),e.jsxs("select",{id:"user_role",className:"input w-full",defaultValue:(Y=a==null?void 0:a.data)==null?void 0:Y.user_role,...n("user_role",{required:!0}),children:[e.jsx("option",{value:(q=a==null?void 0:a.data)==null?void 0:q.user_role,children:(w=a==null?void 0:a.data)==null?void 0:w.user_role}),((z=a==null?void 0:a.data)==null?void 0:z.user_role)!=="Content Creator"&&e.jsx("option",{value:"Content Creator",children:"Content Creator"}),(l==null?void 0:l.user_role)=="Super Admin"&&((Z=a==null?void 0:a.data)==null?void 0:Z.user_role)!=="Admin"&&e.jsx("option",{value:"Admin",children:"Admin"})]}),e.jsx(e.Fragment,{children:((O=s.user_role)==null?void 0:O.type)==="required"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," ",e.jsx("span",{className:"font-medium",children:"Oops!"})," You forgot to specify a user role!"]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"status",className:"input-label"}),e.jsxs("select",{id:"status",className:"input w-full",defaultValue:(C=a==null?void 0:a.data)==null?void 0:C.is_active,...n("is_active",{required:!0}),children:[e.jsx("option",{value:!!((S=a==null?void 0:a.data)!=null&&S.is_active),children:(V=a==null?void 0:a.data)!=null&&V.is_active?"Active":"Suspended"}),($=a==null?void 0:a.data)!=null&&$.is_active?e.jsx("option",{value:!1,children:"Suspend"}):e.jsx("option",{value:!0,children:"Reactive"})]}),e.jsx(e.Fragment,{children:((E=s.user_role)==null?void 0:E.type)==="required"&&e.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[e.jsx(t,{className:"text-lg"})," ",e.jsx("span",{className:"font-medium",children:"Oops!"})," You forgot to specify a user role!"]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{disabled:i,type:"submit",className:"btn-primary w-full",children:i?"Updating user...":"Update user"})})]})]})})}function ae(){return e.jsx("div",{className:"bg-black",children:e.jsx(I,{headerArea:e.jsx(M,{menuLinks:G}),mainArea:e.jsx(X,{})})})}export{ae as default};
