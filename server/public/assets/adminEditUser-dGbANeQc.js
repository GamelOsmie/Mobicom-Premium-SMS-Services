import{j as a,L as oa,N as ca,m as ua,f as ha,g as da,u as xa,a as pa,C as l}from"./index-Zq4SKFCc.js";import{u as ja,a as _a}from"./useUser-dtHBgVDt.js";function fa(){var o,c,u,h,d,x,p,j,_,f,N,g,b,v,y,F,Y,A,B,L,w,V,q,z,Z,O,C,S,$,E,H,P,k,D,R,I,M,G,J,K,Q,T,W,X,U,aa,sa,ea,la;const{slug:r}=ha(),na=da(),{user:i}=xa(t=>t.user),{data:s}=ja({slug:r}),{register:n,handleSubmit:ta,formState:{errors:e}}=pa(),{mutate:ia,isLoading:m}=_a({slug:r,options:{onSuccess:t=>{const{status:ma}=t;ma=="success"&&na(-1)}}}),ra=t=>{ia(t)};return a.jsx(a.Fragment,{children:(s==null?void 0:s.data)&&a.jsxs("div",{className:"mx-auto md:w-4/6 lg:w-1/5",children:[a.jsxs("h3",{className:"font-semibold text-2xl text-center mb-8 ",children:["Update ",(o=s==null?void 0:s.data)==null?void 0:o.first_name,"'s Details"]}),a.jsxs("form",{onSubmit:ta(ra),children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"first_name",className:"input-label",children:"First name"}),a.jsx("input",{type:"text",id:"first_name",className:"input w-full",placeholder:"first name",defaultValue:(c=s==null?void 0:s.data)==null?void 0:c.first_name,...n("first_name",{required:!0,minLength:2,pattern:/^[a-zA-Z]+$/i})}),a.jsxs(a.Fragment,{children:[((u=e.first_name)==null?void 0:u.type)==="required"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," ",a.jsx("span",{className:"font-medium",children:"Oops!"})," You forgot to add a first name!"]}),((h=e.first_name)==null?void 0:h.type)==="minLength"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," ",a.jsx("span",{className:"font-medium",children:"Oops!"})," Your name can't be less than 2 characters"]}),((d=e.first_name)==null?void 0:d.type)==="pattern"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," Your name shouldn't contain numbers or spaces!"]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{htmlFor:"middle_name",className:"input-label",children:["Middle name"," ",a.jsx("span",{className:"text-xs font-light",children:"(optional)"})]}),a.jsx("input",{type:"text",id:"middle_name",className:"input w-full",placeholder:"middle name",defaultValue:(x=s==null?void 0:s.data)==null?void 0:x.middle_name,...n("middle_name",{minLength:2,pattern:/^[a-zA-Z]+$/i})}),a.jsxs(a.Fragment,{children:[((p=e.middle_name)==null?void 0:p.type)==="minLength"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," ",a.jsx("span",{className:"font-medium",children:"Oops!"})," Your name can't be less than 2 characters"]}),((j=e.middle_name)==null?void 0:j.type)==="pattern"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," Your name shouldn't contain numbers or spaces!"]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"last_name",className:"input-label",children:"Last name"}),a.jsx("input",{type:"text",id:"last_name",className:"input w-full",placeholder:"last name",defaultValue:(_=s==null?void 0:s.data)==null?void 0:_.last_name,...n("last_name",{required:!0,minLength:2,pattern:/^[a-zA-Z]+$/i})}),a.jsxs(a.Fragment,{children:[((f=e.last_name)==null?void 0:f.type)==="required"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," ",a.jsx("span",{className:"font-medium",children:"Oops!"})," You forgot to add a last name!"]}),((N=e.last_name)==null?void 0:N.type)==="minLength"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," ",a.jsx("span",{className:"font-medium",children:"Oops!"})," Your name can't be less than 2 characters"]}),((g=e.last_name)==null?void 0:g.type)==="pattern"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," Your name shouldn't contain numbers or spaces!"]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"username",className:"input-label",children:"Username"}),a.jsx("input",{type:"text",id:"username",className:"input w-full",placeholder:"username",defaultValue:(b=s==null?void 0:s.data)==null?void 0:b.username,...n("username",{required:!0,minLength:4,pattern:/^[a-zA-Z]+$/i})}),a.jsxs(a.Fragment,{children:[((v=e.username)==null?void 0:v.type)==="required"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," ",a.jsx("span",{className:"font-medium",children:"Oops!"})," You forgot to add a username!"]}),((y=e.username)==null?void 0:y.type)==="minLength"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," ",a.jsx("span",{className:"font-medium",children:"Oops!"})," Your name can't be less than 4 characters"]}),((F=e.username)==null?void 0:F.type)==="pattern"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," Your username shouldn't contain numbers or spaces!"]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),a.jsx("input",{type:"email",id:"email",className:"input w-full",placeholder:"email",defaultValue:(Y=s==null?void 0:s.data)==null?void 0:Y.email,...n("email",{required:!0,minLength:4,pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/})}),a.jsx(a.Fragment,{children:e.email&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," Enter a valid email address"]})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"phone_number",className:"input-label",children:"Phone number"}),a.jsx("input",{type:"text",id:"phone_number",className:"input w-full",placeholder:"phone number",defaultValue:(A=s==null?void 0:s.data)==null?void 0:A.phone_number,...n("phone_number",{required:!0,minLength:9,maxLength:12,pattern:/^[0-9]{9,12}$/g})}),a.jsx(a.Fragment,{children:e.phone_number&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," Enter a valid phone number"]})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"user_role",className:"input-label",children:"User role"}),a.jsxs("select",{id:"user_role",className:"input w-full",defaultValue:(B=s==null?void 0:s.data)==null?void 0:B.user_role,...n("user_role",{required:!0}),children:[a.jsx("option",{value:(L=s==null?void 0:s.data)==null?void 0:L.user_role,children:(w=s==null?void 0:s.data)==null?void 0:w.user_role}),((V=s==null?void 0:s.data)==null?void 0:V.user_role)!=="Content Creator"&&a.jsx("option",{value:"Content Creator",children:"Content Creator"}),(i==null?void 0:i.user_role)=="Super Admin"&&((q=s==null?void 0:s.data)==null?void 0:q.user_role)!=="Admin"&&a.jsx("option",{value:"Admin",children:"Admin"})]}),a.jsx(a.Fragment,{children:((z=e.user_role)==null?void 0:z.type)==="required"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," ",a.jsx("span",{className:"font-medium",children:"Oops!"})," You forgot to specify a user role!"]})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"status",className:"input-label"}),a.jsxs("select",{id:"status",className:"input w-full",defaultValue:(Z=s==null?void 0:s.data)==null?void 0:Z.is_active,...n("is_active",{required:!0}),children:[a.jsx("option",{value:!!((O=s==null?void 0:s.data)!=null&&O.is_active),children:(C=s==null?void 0:s.data)!=null&&C.is_active?"Active":"Suspended"}),(S=s==null?void 0:s.data)!=null&&S.is_active?a.jsx("option",{value:!1,children:"Suspend"}):a.jsx("option",{value:!0,children:"Reactive"})]}),a.jsx(a.Fragment,{children:(($=e.user_role)==null?void 0:$.type)==="required"&&a.jsxs("p",{className:"form-error-text flex items-center gap-1",children:[a.jsx(l,{className:"text-lg"})," ",a.jsx("span",{className:"font-medium",children:"Oops!"})," You forgot to specify a user role!"]})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"has_2020_access",className:"input-label",children:"Has access to 2020"}),a.jsxs("select",{id:"has_2020_access",className:"input w-full",...n("has_2020_access"),defaultValue:(E=s==null?void 0:s.data)==null?void 0:E.has_2020_access,children:[a.jsx("option",{value:!!((H=s==null?void 0:s.data)!=null&&H.has_2020_access),children:(P=s==null?void 0:s.data)!=null&&P.has_2020_access?"Yes":"No"}),(k=s==null?void 0:s.data)!=null&&k.has_2020_access?a.jsx("option",{value:!1,children:"No"}):a.jsx("option",{value:!0,children:"Yes"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"has_2021_access",className:"input-label",children:"Has access to 2021"}),a.jsxs("select",{id:"has_2021_access",className:"input w-full",...n("has_2021_access"),defaultValue:(D=s==null?void 0:s.data)==null?void 0:D.has_2021_access,children:[a.jsx("option",{value:!!((R=s==null?void 0:s.data)!=null&&R.has_2021_access),children:(I=s==null?void 0:s.data)!=null&&I.has_2021_access?"Yes":"No"}),(M=s==null?void 0:s.data)!=null&&M.has_2021_access?a.jsx("option",{value:!1,children:"No"}):a.jsx("option",{value:!0,children:"Yes"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"has_2022_access",className:"input-label",children:"Has access to 2022"}),a.jsxs("select",{id:"has_2022_access",className:"input w-full",...n("has_2022_access"),defaultValue:(G=s==null?void 0:s.data)==null?void 0:G.has_2022_access,children:[a.jsx("option",{value:!!((J=s==null?void 0:s.data)!=null&&J.has_2022_access),children:(K=s==null?void 0:s.data)!=null&&K.has_2022_access?"Yes":"No"}),(Q=s==null?void 0:s.data)!=null&&Q.has_2022_access?a.jsx("option",{value:!1,children:"No"}):a.jsx("option",{value:!0,children:"Yes"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"has_2023_access",className:"input-label",children:"Has access to 2023"}),a.jsxs("select",{id:"has_2023_access",className:"input w-full",...n("has_2023_access"),defaultValue:(T=s==null?void 0:s.data)==null?void 0:T.has_2023_access,children:[a.jsx("option",{value:!!((W=s==null?void 0:s.data)!=null&&W.has_2023_access),children:(X=s==null?void 0:s.data)!=null&&X.has_2023_access?"Yes":"No"}),(U=s==null?void 0:s.data)!=null&&U.has_2023_access?a.jsx("option",{value:!1,children:"No"}):a.jsx("option",{value:!0,children:"Yes"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"has_2024_access",className:"input-label",children:"Has access to 2024"}),a.jsxs("select",{id:"has_2024_access",className:"input w-full",...n("has_2024_access"),defaultValue:(aa=s==null?void 0:s.data)==null?void 0:aa.has_2024_access,children:[a.jsx("option",{value:!!((sa=s==null?void 0:s.data)!=null&&sa.has_2024_access),children:(ea=s==null?void 0:s.data)!=null&&ea.has_2024_access?"Yes":"No"}),(la=s==null?void 0:s.data)!=null&&la.has_2024_access?a.jsx("option",{value:!1,children:"No"}):a.jsx("option",{value:!0,children:"Yes"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{disabled:m,type:"submit",className:"btn-primary w-full",children:m?"Updating user...":"Update user"})})]})]})})}function ba(){return a.jsx("div",{className:"bg-black",children:a.jsx(oa,{headerArea:a.jsx(ca,{menuLinks:ua}),mainArea:a.jsx(fa,{})})})}export{ba as default};
